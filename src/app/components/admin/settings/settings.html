<!-- Global Standardized Loader -->
<div class="full-page-loader" *ngIf="isLoading || isSaving">
    <div class="loader-content">
        <img src="assets/logo.png" alt="WG Logo" class="loader-logo">
        <div class="loader-footer">
            <div class="loader-spinner"></div>
            <p class="loader-text">{{ isSaving ? 'Guardando cambios' : 'Cargando ajustes' }}</p>
        </div>
    </div>
</div>

<div class="settings-container fade-in" *ngIf="!isLoading && !isSaving">
    <!-- Admin Top Bar -->
    <div class="admin-topbar">
        <div class="admin-topbar-left">
            <img src="assets/logo.png" alt="WG" class="admin-topbar-logo" routerLink="/">
        </div>
        <div class="admin-topbar-nav">
            <button class="topbar-btn" routerLink="/admin/dashboard">游늵 Dashboard</button>
            <button class="topbar-btn" routerLink="/">游 Landing</button>
            <button class="topbar-btn btn-logout" (click)="logout()">游뛁 Cerrar sesi칩n</button>
        </div>
    </div>

    <div class="settings-card">
        <div class="header-text">
            <h2>丘뙖잺 Configuraci칩n del Perfil</h2>
            <p>Edit치 los datos b치sicos de tu negocio.</p>
        </div>

        <form (ngSubmit)="saveChanges()" #settingsForm="ngForm" class="settings-form">

            <div class="form-group">
                <label for="empresa">Nombre de la Empresa</label>
                <input type="text" id="empresa" name="empresa" [(ngModel)]="settingsData.nombreEmpresa" required
                    class="form-control">
            </div>

            <div class="form-group">
                <label for="telefono">Tel칠fono (WhatsApp)</label>
                <input type="text" id="telefono" name="telefono" [(ngModel)]="settingsData.telefono" required
                    class="form-control">
            </div>

            <div class="form-group">
                <label for="direccion">Direcci칩n Comercial</label>
                <input type="text" id="direccion" name="direccion" [(ngModel)]="settingsData.direccion" required
                    class="form-control">
            </div>

            <!-- Alertas -->
            <div class="error-msg zoom-in" *ngIf="errorMsg">
                {{ errorMsg }}
            </div>

            <div class="success-msg zoom-in" *ngIf="successMsg">
                {{ successMsg }}
            </div>

            <button type="submit" class="btn-submit" [disabled]="isSaving || settingsForm.invalid"
                [class.loading]="isSaving">
                <span *ngIf="!isSaving">Guardar Cambios</span>
                <span *ngIf="isSaving">Guardando...</span>
            </button>
        </form>
    </div>
</div>