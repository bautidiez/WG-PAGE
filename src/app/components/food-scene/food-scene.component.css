/* Main Container - Full Screen Background */
.food-scene-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: radial-gradient(circle at center, #ffffff 0%, #f6f6f6 60%, #eeeeee 100%);
    overflow: hidden;
    z-index: 0;
    /* Changed from -1 to allow interaction */
    pointer-events: none;
    /* Let clicks pass through empty space */
}

/* Food Grid Wrapper */
.food-grid {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: auto;
    /* Re-enable for food items */
}

/* Base style for wrapper - Positioning handled via inline styles in HTML */
.food-item-wrapper {
    position: absolute;
    top: 0;
    left: 0;
    pointer-events: auto;
    /* Ensure hover works */
    will-change: transform;
    /* Optimized for animation */
}

/* Inner Containers */
.image-container {
    width: 100%;
    height: auto;
    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.27);
}

/* The Image Itself */
.food-img {
    width: 100%;
    height: auto;
    object-fit: contain;
    object-fit: contain;
    transition: transform 0.4s ease, filter 0.3s ease;
    /* filter: drop-shadow(0 20px 30px rgba(0, 0, 0, 0.15)); REMOVED to avoid box shadow on non-transparent images */
    mix-blend-mode: multiply;
    /* Hides white background on images */
    cursor: pointer;

    /* PREVENT CLIPPING: Add padding so the visual content is safer from mask edges */
    box-sizing: border-box;
    padding: 10px;

    /* MASK SETUP for BITE EFFECT */
    -webkit-mask-image: url('/assets/food/bite-mask.svg?v=3');
    mask-image: url('/assets/food/bite-mask.svg?v=3');
    /* 200% width (2 states), 100% height */
    -webkit-mask-size: 200% 100%;
    mask-size: 200% 100%;
    /* Start at Left (Solid) */
    -webkit-mask-position: 0% 0%;
    mask-position: 0% 0%;
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;

    /* Ensure transitions cover the mask position */
    transition: transform 0.4s ease, filter 0.3s ease, -webkit-mask-position 0s linear, mask-position 0s linear;
}

.food-item-wrapper:hover .food-img {
    /* filter: drop-shadow(0 30px 50px rgba(0, 0, 0, 0.25)); REMOVED */

    /* Reveal Bite - Shift to Right (Bitten) */
    -webkit-mask-position: 100% 0%;
    mask-position: 100% 0%;
    transition: mask-position 0s linear;
    /* Instant switch */
}

/* Responsive */
/* Responsive */
@media (max-width: 768px) {

    /* Mobile: less complex but INTERACTIVE */
    .food-item-wrapper {
        touch-action: manipulation;
        /* Improve touch response */
    }

    .food-item-wrapper:active .image-container,
    .food-item-wrapper:hover .image-container {
        transform: scale(1.15);
    }

    .food-item-wrapper:active .food-img,
    .food-item-wrapper:hover .food-img {
        /* Reveal Bite */
        -webkit-mask-position: 100% 0%;
        mask-position: 100% 0%;
        filter: drop-shadow(0 20px 30px rgba(0, 0, 0, 0.15));
    }
}